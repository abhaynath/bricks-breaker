var se=Object.defineProperty;var oe=(t,e,n)=>e in t?se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $=(t,e,n)=>(oe(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const i of f.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerpolicy&&(f.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?f.credentials="include":o.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=n(o);fetch(o.href,f)}})();function g(){}function ee(t){return t()}function Q(){return Object.create(null)}function P(t){t.forEach(ee)}function ie(t){return typeof t=="function"}function k(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function le(t){return Object.keys(t).length===0}function h(t,e){t.appendChild(e)}function G(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function ce(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ue(t){return document.createTextNode(t)}function z(){return ue(" ")}function K(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function u(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function fe(t){return Array.from(t.childNodes)}function m(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let H;function R(t){H=t}const B=[],W=[],M=[],X=[],ae=Promise.resolve();let j=!1;function de(){j||(j=!0,ae.then(te))}function q(t){M.push(t)}const L=new Set;let U=0;function te(){const t=H;do{for(;U<B.length;){const e=B[U];U++,R(e),pe(e.$$)}for(R(null),B.length=0,U=0;W.length;)W.pop()();for(let e=0;e<M.length;e+=1){const n=M[e];L.has(n)||(L.add(n),n())}M.length=0}while(B.length);for(;X.length;)X.pop()();j=!1,L.clear(),R(t)}function pe(t){if(t.fragment!==null){t.update(),P(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(q)}}const D=new Set;let w;function ne(){w={r:0,c:[],p:w}}function re(){w.r||P(w.c),w=w.p}function b(t,e){t&&t.i&&(D.delete(t),t.i(e))}function S(t,e,n,r){if(t&&t.o){if(D.has(t))return;D.add(t),w.c.push(()=>{D.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function C(t){t&&t.c()}function T(t,e,n,r){const{fragment:o,on_mount:f,on_destroy:i,after_update:c}=t.$$;o&&o.m(e,n),r||q(()=>{const s=f.map(ee).filter(ie);i?i.push(...s):P(s),t.$$.on_mount=[]}),c.forEach(q)}function F(t,e){const n=t.$$;n.fragment!==null&&(P(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function he(t,e){t.$$.dirty[0]===-1&&(B.push(t),de(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function N(t,e,n,r,o,f,i,c=[-1]){const s=H;R(t);const l=t.$$={fragment:null,ctx:null,props:f,update:g,not_equal:o,bound:Q(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Q(),dirty:c,skip_bound:!1,root:e.target||s.$$.root};i&&i(l.root);let a=!1;if(l.ctx=n?n(t,e.props||{},(d,p,...O)=>{const J=O.length?O[0]:p;return l.ctx&&o(l.ctx[d],l.ctx[d]=J)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](J),a&&he(t,d)),p}):[],l.update(),a=!0,P(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const d=fe(e.target);l.fragment&&l.fragment.l(d),d.forEach(x)}else l.fragment&&l.fragment.c();e.intro&&b(t.$$.fragment),T(t,e.target,e.anchor,e.customElement),te()}R(s)}class A{$destroy(){F(this,1),this.$destroy=g}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!le(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function me(t){let e,n,r,o,f,i;return{c(){e=v("div"),n=v("h1"),n.textContent="Score : 80",r=z(),o=v("button"),o.textContent="Restart",u(e,"class","game-over-screen svelte-189tr06")},m(c,s){G(c,e,s),h(e,n),h(e,r),h(e,o),f||(i=K(o,"click",t[0]),f=!0)},p:g,i:g,o:g,d(c){c&&x(e),f=!1,i()}}}function ge(t){return[()=>{console.log("restart game"),I.welcomeScreen()}]}class _e extends A{constructor(e){super(),N(this,e,ge,me,k,{})}}class ye{constructor(e,n,r=0){$(this,"x",0);$(this,"y",0);$(this,"width",42);$(this,"height");$(this,"brickType",0);$(this,"color","#FF4B39");$(this,"strength",20);this.brickType=r,this.setPosition(e,n),this.setBrickType()}setPosition(e,n){this.x=e,this.y=n}setBrickType(){switch(this.brickType){case 1:this.strength=30,this.color="#ff00ff";break;case 2:this.strength=40,this.color="#0000ff";break;case 3:this.strength=50,this.color="#00ff00";break;default:this.strength=20,this.color="#FF4B39";break}}}class $e{constructor(){$(this,"x",0);$(this,"y",0);$(this,"radius");this.radius=15}setPosition(e,n){this.x=e,this.y=n}}var _=(t=>(t.NOT_STARTED="NOT_STARTED",t.RUNNING="RUNNING",t.PAUSED="PAUSED",t.RESUME="RESUME",t.GAME_OVER="GAME OVER",t))(_||{});function ve(t){let e,n,r,o,f,i;return{c(){e=v("div"),n=y("svg"),r=y("radialGradient"),o=y("stop"),f=y("stop"),i=y("circle"),u(o,"offset","0"),m(o,"stop-color","#FFF72A"),u(f,"offset","1"),m(f,"stop-color","#FF0000"),u(r,"id","SVGID_1_"),u(r,"cx","111"),u(r,"cy","111"),u(r,"r","110"),u(r,"gradientUnits","userSpaceOnUse"),u(i,"fill","url(#SVGID_1_)"),u(i,"stroke","#F3EB00"),u(i,"stroke-width","2"),u(i,"stroke-miterlimit","10"),u(i,"cx","111"),u(i,"cy","111"),u(i,"r","110"),u(n,"viewBox","0 0 222 222"),u(e,"class","ball svelte-ib33zs"),m(e,"width",t[0].radius*2+"px"),m(e,"height",t[0].radius*2+"px"),m(e,"left",t[0].x-t[0].radius+"px"),m(e,"top",t[0].y-t[0].radius+"px")},m(c,s){G(c,e,s),h(e,n),h(n,r),h(r,o),h(r,f),h(n,i)},p(c,[s]){s&1&&m(e,"width",c[0].radius*2+"px"),s&1&&m(e,"height",c[0].radius*2+"px"),s&1&&m(e,"left",c[0].x-c[0].radius+"px"),s&1&&m(e,"top",c[0].y-c[0].radius+"px")},i:g,o:g,d(c){c&&x(e)}}}function be(t,e,n){let{data:r}=e;return t.$$set=o=>{"data"in o&&n(0,r=o.data)},[r]}class we extends A{constructor(e){super(),N(this,e,be,ve,k,{data:0})}}function ke(t){let e,n,r,o,f,i,c,s,l;return{c(){e=v("div"),n=y("svg"),r=y("g"),o=y("polygon"),f=y("polygon"),i=y("polygon"),c=y("polygon"),s=y("rect"),u(o,"fill","#FF2626"),u(o,"stroke","#000000"),u(o,"stroke-miterlimit","10"),u(o,"points","979.4,345 1.4,345 44.4,311 936.4,311 	"),u(f,"fill","#FFAC9A"),u(f,"stroke","#000000"),u(f,"stroke-miterlimit","10"),u(f,"points","44.4,35 44.4,311 1.4,345 1.4,1 	"),u(i,"fill","#FF7C70"),u(i,"stroke","#000000"),u(i,"stroke-miterlimit","10"),u(i,"points","979.4,1 936.4,35 44.4,35 1.4,1 	"),u(c,"fill","#B50A00"),u(c,"stroke","#000000"),u(c,"stroke-miterlimit","10"),u(c,"points","979.4,1 979.4,345 936.4,311 936.4,35 	"),u(s,"x","44.4"),u(s,"y","35"),u(s,"fill",l=t[0].color),u(s,"stroke","#000000"),u(s,"stroke-miterlimit","10"),u(s,"width","892"),u(s,"height","276"),u(n,"viewBox","0 0 980.9 346.1"),u(e,"class","brick svelte-1fgkgtp"),m(e,"width",t[0].width+"px"),m(e,"height",t[0].height+"px"),m(e,"left",t[0].x+"px"),m(e,"top",t[0].y+"px")},m(a,d){G(a,e,d),h(e,n),h(n,r),h(r,o),h(r,f),h(r,i),h(r,c),h(r,s)},p(a,[d]){d&1&&l!==(l=a[0].color)&&u(s,"fill",l),d&1&&m(e,"width",a[0].width+"px"),d&1&&m(e,"height",a[0].height+"px"),d&1&&m(e,"left",a[0].x+"px"),d&1&&m(e,"top",a[0].y+"px")},i:g,o:g,d(a){a&&x(e)}}}function xe(t,e,n){let{data:r}=e;return t.$$set=o=>{"data"in o&&n(0,r=o.data)},[r]}class Ee extends A{constructor(e){super(),N(this,e,xe,ke,k,{data:0})}}function Y(t,e,n){const r=t.slice();return r[10]=e[n],r}function Z(t){let e,n;return e=new Ee({props:{data:t[10]}}),{c(){C(e.$$.fragment)},m(r,o){T(e,r,o),n=!0},p:g,i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function Se(t){let e,n,r,o,f,i;n=new we({props:{data:t[0]}});let c=t[1],s=[];for(let a=0;a<c.length;a+=1)s[a]=Z(Y(t,c,a));const l=a=>S(s[a],1,1,()=>{s[a]=null});return{c(){e=v("div"),C(n.$$.fragment),r=z();for(let a=0;a<s.length;a+=1)s[a].c();u(e,"class","play-screen svelte-eunmma")},m(a,d){G(a,e,d),T(n,e,null),h(e,r);for(let p=0;p<s.length;p+=1)s[p].m(e,null);o=!0,f||(i=K(window,"keydown",t[2]),f=!0)},p(a,[d]){if(d&2){c=a[1];let p;for(p=0;p<c.length;p+=1){const O=Y(a,c,p);s[p]?(s[p].p(O,d),b(s[p],1)):(s[p]=Z(O),s[p].c(),b(s[p],1),s[p].m(e,null))}for(ne(),p=c.length;p<s.length;p+=1)l(p);re()}},i(a){if(!o){b(n.$$.fragment,a);for(let d=0;d<c.length;d+=1)b(s[d]);o=!0}},o(a){S(n.$$.fragment,a),s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)S(s[d]);o=!1},d(a){a&&x(e),F(n),ce(s,a),f=!1,i()}}}function Ge(t){let e=new $e;e.setPosition(300,200);let n=[],r;I.subscribe(i=>{r=i});const o=i=>{console.log(`onkeydown ${r.status}`),r.status==_.RUNNING&&(console.log(i),i.key,i.keyCode)};return(()=>{for(let s=1;s<=10;s++)for(let l=1;l<=5;l++){let a=Math.floor(Math.random()*4);n.push(new ye(s*50,l*20,a))}})(),[e,n,o]}class V extends A{constructor(e){super(),N(this,e,Ge,Se,k,{})}}function Ne(t){let e,n,r,o,f,i,c;return{c(){e=v("div"),n=v("div"),n.textContent="Bricks Breaker !",r=z(),o=v("div"),f=v("button"),f.textContent="Start",u(n,"class","title svelte-1fgd63r"),u(o,"class","btn svelte-1fgd63r"),u(e,"class","start-screen svelte-1fgd63r")},m(s,l){G(s,e,l),h(e,n),h(e,r),h(e,o),h(o,f),i||(c=K(f,"click",t[0]),i=!0)},p:g,i:g,o:g,d(s){s&&x(e),i=!1,c()}}}function Ae(t){return[()=>{console.log("start game"),I.startGame()}]}class Oe extends A{constructor(e){super(),N(this,e,Ae,Ne,k,{})}}const E=[];function Be(t,e=g){let n;const r=new Set;function o(c){if(k(t,c)&&(t=c,n)){const s=!E.length;for(const l of r)l[1](),E.push(l,t);if(s){for(let l=0;l<E.length;l+=2)E[l][0](E[l+1]);E.length=0}}}function f(c){o(c(t))}function i(c,s=g){const l=[c,s];return r.add(l),r.size===1&&(n=e(o)||g),c(t),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:o,update:f,subscribe:i}}const Re=()=>{const t=[{status:_.NOT_STARTED,component:Oe},{status:_.RUNNING,component:V},{status:_.PAUSED,component:V},{status:_.RESUME,component:V},{status:_.GAME_OVER,component:_e}];let{update:e,subscribe:n}=Be(t[1]);return{subscribe:n,startGame:()=>{e(s=>(s=t.find(l=>l.status==_.RUNNING),s))},pauseGame:()=>{e(s=>(s=t.find(l=>l.status==_.PAUSED),s))},resumeGame:()=>{e(s=>(s=t.find(l=>l.status==_.RUNNING),s))},gameOver:()=>{e(s=>(s=t.find(l=>l.status==_.GAME_OVER),s))},welcomeScreen:()=>{e(s=>(s=t.find(l=>l.status==_.NOT_STARTED),s))}}},I=Re();function Te(t){let e,n,r;var o=t[0].component;function f(i){return{}}return o&&(n=new o(f())),{c(){e=v("div"),n&&C(n.$$.fragment),u(e,"class","container svelte-17cjueo")},m(i,c){G(i,e,c),n&&T(n,e,null),r=!0},p(i,[c]){if(o!==(o=i[0].component)){if(n){ne();const s=n;S(s.$$.fragment,1,0,()=>{F(s,1)}),re()}o?(n=new o(f()),C(n.$$.fragment),b(n.$$.fragment,1),T(n,e,null)):n=null}},i(i){r||(n&&b(n.$$.fragment,i),r=!0)},o(i){n&&S(n.$$.fragment,i),r=!1},d(i){i&&x(e),n&&F(n)}}}function Fe(t,e,n){let r;return I.subscribe(o=>{n(0,r=o)}),[r]}class Pe extends A{constructor(e){super(),N(this,e,Fe,Te,k,{})}}new Pe({target:document.getElementById("app")});
