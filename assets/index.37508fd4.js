var lt=Object.defineProperty;var ct=(e,t,n)=>t in e?lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $=(e,t,n)=>(ct(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function m(){}function rt(e){return e()}function Q(){return Object.create(null)}function L(e){e.forEach(rt)}function at(e){return typeof e=="function"}function k(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ft(e){return Object.keys(e).length===0}function _(e,t){e.appendChild(t)}function I(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode.removeChild(e)}function ut(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function v(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function dt(e){return document.createTextNode(e)}function W(){return dt(" ")}function Y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function l(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function pt(e){return Array.from(e.childNodes)}function p(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let O;function P(e){O=e}function ht(){if(!O)throw new Error("Function called outside component initialization");return O}function _t(e){ht().$$.on_mount.push(e)}const F=[],Z=[],D=[],tt=[],gt=Promise.resolve();let z=!1;function mt(){z||(z=!0,gt.then(st))}function X(e){D.push(e)}const j=new Set;let M=0;function st(){const e=O;do{for(;M<F.length;){const t=F[M];M++,P(t),yt(t.$$)}for(P(null),F.length=0,M=0;Z.length;)Z.pop()();for(let t=0;t<D.length;t+=1){const n=D[t];j.has(n)||(j.add(n),n())}D.length=0}while(F.length);for(;tt.length;)tt.pop()();z=!1,j.clear(),P(e)}function yt(e){if(e.fragment!==null){e.update(),L(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}const K=new Set;let R;function ot(){R={r:0,c:[],p:R}}function it(){R.r||L(R.c),R=R.p}function S(e,t){e&&e.i&&(K.delete(e),e.i(t))}function G(e,t,n,r){if(e&&e.o){if(K.has(e))return;K.add(e),R.c.push(()=>{K.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function U(e){e&&e.c()}function C(e,t,n,r){const{fragment:s,on_mount:o,on_destroy:c,after_update:f}=e.$$;s&&s.m(t,n),r||X(()=>{const i=o.map(rt).filter(at);c?c.push(...i):L(i),e.$$.on_mount=[]}),f.forEach(X)}function H(e,t){const n=e.$$;n.fragment!==null&&(L(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $t(e,t){e.$$.dirty[0]===-1&&(F.push(e),mt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function T(e,t,n,r,s,o,c,f=[-1]){const i=O;P(e);const a=e.$$={fragment:null,ctx:null,props:o,update:m,not_equal:s,bound:Q(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(i?i.$$.context:[])),callbacks:Q(),dirty:f,skip_bound:!1,root:t.target||i.$$.root};c&&c(a.root);let u=!1;if(a.ctx=n?n(e,t.props||{},(h,d,...g)=>{const w=g.length?g[0]:d;return a.ctx&&s(a.ctx[h],a.ctx[h]=w)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](w),u&&$t(e,h)),d}):[],a.update(),u=!0,L(a.before_update),a.fragment=r?r(a.ctx):!1,t.target){if(t.hydrate){const h=pt(t.target);a.fragment&&a.fragment.l(h),h.forEach(N)}else a.fragment&&a.fragment.c();t.intro&&S(e.$$.fragment),C(e,t.target,t.anchor,t.customElement),st()}P(i)}class A{$destroy(){H(this,1),this.$destroy=m}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!ft(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var x=(e=>(e[e.SCREEN_WIDTH=600]="SCREEN_WIDTH",e[e.SCREEN_HEIGHT=400]="SCREEN_HEIGHT",e[e.BALL_RADIUS=15]="BALL_RADIUS",e[e.BRICK_WIDTH=81]="BRICK_WIDTH",e[e.BRICK_HEIGHT=9]="BRICK_HEIGHT",e))(x||{});function vt(e){let t,n,r,s,o,c;return{c(){t=b("div"),n=b("h1"),n.textContent="Score : 80",r=W(),s=b("button"),s.textContent="Restart",l(t,"class","game-over-screen svelte-189tr06")},m(f,i){I(f,t,i),_(t,n),_(t,r),_(t,s),o||(c=Y(s,"click",e[0]),o=!0)},p:m,i:m,o:m,d(f){f&&N(t),o=!1,c()}}}function wt(e){return[()=>{console.log("restart game"),V.welcomeScreen()}]}class Et extends A{constructor(t){super(),T(this,t,wt,vt,k,{})}}class bt{constructor(t,n,r=0){$(this,"x",0);$(this,"y",0);$(this,"width",42);$(this,"height");$(this,"brickType",0);$(this,"color","#FF4B39");$(this,"strength",20);this.brickType=r,this.setPosition(t,n),this.setBrickType()}setPosition(t,n){this.x=t,this.y=n}setBrickType(){switch(this.brickType){case 1:this.strength=30,this.color="#ff00ff";break;case 2:this.strength=40,this.color="#0000ff";break;case 3:this.strength=50,this.color="#00ff00";break;default:this.strength=20,this.color="#FF4B39";break}}}class xt{constructor(){$(this,"x",0);$(this,"y",0);$(this,"radius");this.radius=15}setPosition(t,n){this.x=t,this.y=n}}var E=(e=>(e.NOT_STARTED="NOT_STARTED",e.RUNNING="RUNNING",e.PAUSED="PAUSED",e.RESUME="RESUME",e.GAME_OVER="GAME OVER",e))(E||{});class St{constructor(t,n,r,s){$(this,"x",0);$(this,"y",0);$(this,"width",80);$(this,"height",8);this.setPosition(t,n),this.width=r,this.height=s}setPosition(t,n){this.x=t,this.y=n}}function kt(e){let t,n,r,s,o,c;return{c(){t=b("div"),n=v("svg"),r=v("radialGradient"),s=v("stop"),o=v("stop"),c=v("circle"),l(s,"offset","0"),p(s,"stop-color","#FFF72A"),l(o,"offset","1"),p(o,"stop-color","#FF0000"),l(r,"id","SVGID_1_"),l(r,"cx","111"),l(r,"cy","111"),l(r,"r","110"),l(r,"gradientUnits","userSpaceOnUse"),l(c,"fill","url(#SVGID_1_)"),l(c,"stroke","#F3EB00"),l(c,"stroke-width","2"),l(c,"stroke-miterlimit","10"),l(c,"cx","111"),l(c,"cy","111"),l(c,"r","110"),l(n,"viewBox","0 0 222 222"),l(t,"class","ball svelte-ib33zs"),p(t,"width",e[0].radius*2+"px"),p(t,"height",e[0].radius*2+"px"),p(t,"left",e[0].x-e[0].radius+"px"),p(t,"top",e[0].y-e[0].radius+"px")},m(f,i){I(f,t,i),_(t,n),_(n,r),_(r,s),_(r,o),_(n,c)},p(f,[i]){i&1&&p(t,"width",f[0].radius*2+"px"),i&1&&p(t,"height",f[0].radius*2+"px"),i&1&&p(t,"left",f[0].x-f[0].radius+"px"),i&1&&p(t,"top",f[0].y-f[0].radius+"px")},i:m,o:m,d(f){f&&N(t)}}}function Nt(e,t,n){let{data:r}=t;return e.$$set=s=>{"data"in s&&n(0,r=s.data)},[r]}class Rt extends A{constructor(t){super(),T(this,t,Nt,kt,k,{data:0})}}function Gt(e){let t,n,r,s,o,c,f,i,a;return{c(){t=b("div"),n=v("svg"),r=v("g"),s=v("polygon"),o=v("polygon"),c=v("polygon"),f=v("polygon"),i=v("rect"),l(s,"fill","#FF2626"),l(s,"stroke","#000000"),l(s,"stroke-miterlimit","10"),l(s,"points","979.4,345 1.4,345 44.4,311 936.4,311 	"),l(o,"fill","#FFAC9A"),l(o,"stroke","#000000"),l(o,"stroke-miterlimit","10"),l(o,"points","44.4,35 44.4,311 1.4,345 1.4,1 	"),l(c,"fill","#FF7C70"),l(c,"stroke","#000000"),l(c,"stroke-miterlimit","10"),l(c,"points","979.4,1 936.4,35 44.4,35 1.4,1 	"),l(f,"fill","#B50A00"),l(f,"stroke","#000000"),l(f,"stroke-miterlimit","10"),l(f,"points","979.4,1 979.4,345 936.4,311 936.4,35 	"),l(i,"x","44.4"),l(i,"y","35"),l(i,"fill",a=e[0].color),l(i,"stroke","#000000"),l(i,"stroke-miterlimit","10"),l(i,"width","892"),l(i,"height","276"),l(n,"viewBox","0 0 980.9 346.1"),l(t,"class","brick svelte-1fgkgtp"),p(t,"width",e[0].width+"px"),p(t,"height",e[0].height+"px"),p(t,"left",e[0].x+"px"),p(t,"top",e[0].y+"px")},m(u,h){I(u,t,h),_(t,n),_(n,r),_(r,s),_(r,o),_(r,c),_(r,f),_(r,i)},p(u,[h]){h&1&&a!==(a=u[0].color)&&l(i,"fill",a),h&1&&p(t,"width",u[0].width+"px"),h&1&&p(t,"height",u[0].height+"px"),h&1&&p(t,"left",u[0].x+"px"),h&1&&p(t,"top",u[0].y+"px")},i:m,o:m,d(u){u&&N(t)}}}function It(e,t,n){let{data:r}=t;return e.$$set=s=>{"data"in s&&n(0,r=s.data)},[r]}class Tt extends A{constructor(t){super(),T(this,t,It,Gt,k,{data:0})}}function At(e){let t,n,r;return{c(){t=b("div"),n=v("svg"),r=v("rect"),l(r,"x","0.5"),l(r,"y","0.5"),l(r,"fill","#F1FF60"),l(r,"stroke","#EB7C00"),l(r,"stroke-miterlimit","10"),l(r,"width","80"),l(r,"height","8"),l(n,"viewBox","0 0 81 9"),l(t,"class","paddle svelte-cno17e"),p(t,"width",e[0].width+"px"),p(t,"height",e[0].height+"px"),p(t,"left",e[0].x-e[0].width/2+"px"),p(t,"top",e[0].y-e[0].height/2+"px")},m(s,o){I(s,t,o),_(t,n),_(n,r)},p(s,[o]){o&1&&p(t,"width",s[0].width+"px"),o&1&&p(t,"height",s[0].height+"px"),o&1&&p(t,"left",s[0].x-s[0].width/2+"px"),o&1&&p(t,"top",s[0].y-s[0].height/2+"px")},i:m,o:m,d(s){s&&N(t)}}}function Bt(e,t,n){let{data:r}=t;return e.$$set=s=>{"data"in s&&n(0,r=s.data)},[r]}class Ct extends A{constructor(t){super(),T(this,t,Bt,At,k,{data:0})}}function et(e,t,n){const r=e.slice();return r[13]=t[n],r}function nt(e){let t,n;return t=new Tt({props:{data:e[13]}}),{c(){U(t.$$.fragment)},m(r,s){C(t,r,s),n=!0},p:m,i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){G(t.$$.fragment,r),n=!1},d(r){H(t,r)}}}function Ht(e){let t,n,r,s,o,c,f,i;n=new Rt({props:{data:e[0]}});let a=e[1],u=[];for(let d=0;d<a.length;d+=1)u[d]=nt(et(e,a,d));const h=d=>G(u[d],1,1,()=>{u[d]=null});return o=new Ct({props:{data:e[2]}}),{c(){t=b("div"),U(n.$$.fragment),r=W();for(let d=0;d<u.length;d+=1)u[d].c();s=W(),U(o.$$.fragment),l(t,"class","play-screen svelte-eunmma")},m(d,g){I(d,t,g),C(n,t,null),_(t,r);for(let w=0;w<u.length;w+=1)u[w].m(t,null);_(t,s),C(o,t,null),c=!0,f||(i=Y(window,"keydown",e[3]),f=!0)},p(d,[g]){const w={};if(g&1&&(w.data=d[0]),n.$set(w),g&2){a=d[1];let y;for(y=0;y<a.length;y+=1){const J=et(d,a,y);u[y]?(u[y].p(J,g),S(u[y],1)):(u[y]=nt(J),u[y].c(),S(u[y],1),u[y].m(t,s))}for(ot(),y=a.length;y<u.length;y+=1)h(y);it()}},i(d){if(!c){S(n.$$.fragment,d);for(let g=0;g<a.length;g+=1)S(u[g]);S(o.$$.fragment,d),c=!0}},o(d){G(n.$$.fragment,d),u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)G(u[g]);G(o.$$.fragment,d),c=!1},d(d){d&&N(t),H(n),ut(u,d),H(o),f=!1,i()}}}function Ft(e,t,n){const r=x.SCREEN_WIDTH/2,s=x.SCREEN_HEIGHT/2;let o=new xt;o.setPosition(r,s);let c=[],f=new St(r,x.SCREEN_HEIGHT*.9,x.BRICK_WIDTH,x.BRICK_HEIGHT),i;V.subscribe(h=>{i=h});const a=h=>{console.log(`onkeydown ${i.status}`),i.status==E.RUNNING&&(console.log(h),h.key,h.keyCode)};return(()=>{for(let g=1;g<=10;g++)for(let w=1;w<=5;w++){let y=Math.floor(Math.random()*4);c.push(new bt(g*50,w*20,y))}})(),_t(()=>{let h;const d=()=>{o.x<=x.SCREEN_WIDTH-x.BALL_RADIUS?(n(0,o.x=o.x+1,o),o.setPosition(o.x,o.y)):(n(0,o.x=x.BALL_RADIUS*-1,o),o.setPosition(o.x,o.y)),requestAnimationFrame(d)};return d(),()=>{cancelAnimationFrame(h)}}),[o,c,f,a]}class q extends A{constructor(t){super(),T(this,t,Ft,Ht,k,{})}}function Pt(e){let t,n,r,s,o,c,f;return{c(){t=b("div"),n=b("div"),n.textContent="Bricks Breaker !",r=W(),s=b("div"),o=b("button"),o.textContent="Start",l(n,"class","title svelte-1fgd63r"),l(s,"class","btn svelte-1fgd63r"),l(t,"class","start-screen svelte-1fgd63r")},m(i,a){I(i,t,a),_(t,n),_(t,r),_(t,s),_(s,o),c||(f=Y(o,"click",e[0]),c=!0)},p:m,i:m,o:m,d(i){i&&N(t),c=!1,f()}}}function Ot(e){return[()=>{console.log("start game"),V.startGame()}]}class Ut extends A{constructor(t){super(),T(this,t,Ot,Pt,k,{})}}const B=[];function Lt(e,t=m){let n;const r=new Set;function s(f){if(k(e,f)&&(e=f,n)){const i=!B.length;for(const a of r)a[1](),B.push(a,e);if(i){for(let a=0;a<B.length;a+=2)B[a][0](B[a+1]);B.length=0}}}function o(f){s(f(e))}function c(f,i=m){const a=[f,i];return r.add(a),r.size===1&&(n=t(s)||m),f(e),()=>{r.delete(a),r.size===0&&(n(),n=null)}}return{set:s,update:o,subscribe:c}}const Mt=()=>{const e=[{status:E.NOT_STARTED,component:Ut},{status:E.RUNNING,component:q},{status:E.PAUSED,component:q},{status:E.RESUME,component:q},{status:E.GAME_OVER,component:Et}];let{update:t,subscribe:n}=Lt(e[1]);return{subscribe:n,startGame:()=>{t(i=>(i=e.find(a=>a.status==E.RUNNING),i))},pauseGame:()=>{t(i=>(i=e.find(a=>a.status==E.PAUSED),i))},resumeGame:()=>{t(i=>(i=e.find(a=>a.status==E.RUNNING),i))},gameOver:()=>{t(i=>(i=e.find(a=>a.status==E.GAME_OVER),i))},welcomeScreen:()=>{t(i=>(i=e.find(a=>a.status==E.NOT_STARTED),i))}}},V=Mt();function Dt(e){let t,n,r;var s=e[0].component;function o(c){return{}}return s&&(n=new s(o())),{c(){t=b("div"),n&&U(n.$$.fragment),l(t,"class","container svelte-16au4d0"),p(t,"width",x.SCREEN_WIDTH+"px"),p(t,"height",x.SCREEN_HEIGHT+"px")},m(c,f){I(c,t,f),n&&C(n,t,null),r=!0},p(c,[f]){if(s!==(s=c[0].component)){if(n){ot();const i=n;G(i.$$.fragment,1,0,()=>{H(i,1)}),it()}s?(n=new s(o()),U(n.$$.fragment),S(n.$$.fragment,1),C(n,t,null)):n=null}},i(c){r||(n&&S(n.$$.fragment,c),r=!0)},o(c){n&&G(n.$$.fragment,c),r=!1},d(c){c&&N(t),n&&H(n)}}}function Kt(e,t,n){let r;return V.subscribe(s=>{n(0,r=s)}),[r]}class Wt extends A{constructor(t){super(),T(this,t,Kt,Dt,k,{})}}new Wt({target:document.getElementById("app")});
